<!DOCTYPE html>

<h2>CS 4641 - Group 19</h2>
<p>Predicting COVID-19 Spread Based on Country’s Metrics</p>
<p><a href="https://github.com/AndrewZhang123/cs-4641-group-19" target="_blank">GitHub Repo</a></p>
<h3>Datasets:</h3>
<ul>
  <li>
    <a href="https://ourworldindata.org/coronavirus-source-data" target="_blank"
      >Coronavirus Timeline Data</a
    >
  </li>
  <li>
    <a
      href="https://www.kaggle.com/sudalairajkumar/undata-country-profiles"
      target="_blank"
      >Country Dataset</a
    >
  </li>
</ul>

<p>
  Country Dataset: Each datapoint is a country with about 50 features, including
  GDP, Population Density, Urban Population, etc.
</p>
<p>
  COVID-19 Dataset: Each row has a country and date, along with Covid statistics
  for that country/date. These statistics include new cases, deaths, and tests
</p>
<p>
  We will combine datasets based on the country key. We will also combine
  multiple rows of the Kaggle dataset to generate a dataset that records total
  cases per country over time (every 2 weeks). The ground truth is the true
  number of reported COVID cases per country.
</p>

<!-------------------------------------------------------------->
<h2>Touchpoint 1: Project Proposal</h2>
<h3>Summary Figure</h3>
<img src="img/infographic.png" alt="Infographic" style="width: 75%" />

<h3>Introduction/Background</h3>
<p>
  We are trying to understand how effective the different characteristics of
  countries around the world (e.g.total population, population density, GDP)
  affect the rate at which COVID-19 spreads around the corresponding country.
  Some models rely on user’s inputs such as local population, current status of
  infection, while others focus more on data reported by the World Health
  Organization and their government. In addition, there seems to be a lack of
  information around the handling of coronavirus. It is easy to say a certain
  place’s government handled coronavirus well because the cases are low, and
  another’s handled it poorly due to the high rate of infection. However, this
  approach lacks context, failing to take into account the differences in
  countries.
</p>

<h3>Methods</h3>
<p>
  We are analyzing unique combinations of features of countries to approach this
  problem. We will also try multiple machine learning approaches and see what is
  most effective. We think this will be successful because we can be flexible in
  our model choice and the country features we choose to analyze. Potential
  supervised methods we want to test out include linear regression, LDA, and
  decision trees. There are concerns about the accuracy of data regarding the
  spread of COVID, with certain countries underreporting or undertesting, which
  could have implications on the data of our model. Therefore, if we are not
  clear about the potential limitations of our model, we run the risk of
  spreading misinformation. We will be using free libraries and methods to
  perform our analysis. So, it will not cost anything. Depending on the method
  we use to analyze, the time will vary. For unsupervised methods, we will use
  GMM to cluster the data and look for relationships between the countries. From
  this clustering, we plan on learning if clustered countries have a similar
  Covid-19 spread.
</p>

<h3>Pre-processing</h3>
<p>
  For pre-processing we will remove several features. Some features contain
  information already encoded in other features. For example, we have
  information on population, surface area, and population density. We can remove
  population density in this situation, as it is population/surface area. There
  are also variables we think will likely be irrelevant to our findings, such as
  forested area or number of endangered species, which we plan to remove.
  Lastly, our data is entirely numerical except for the region in which a
  country resides (e.g. southern asia) which we will represent using one-hot
  encoding.
</p>

<h3>Results</h3>
<p>
  We will use half the dataset to train the model, and then check for accuracy
  against the other half of the dataset on past data. We can also predict the
  future rate of COVID-19 spread and wait until the predicted date to compare
  the actual spread against our predicted value. Our goal is to be within 10% of
  the true value. For example, we can predict total COVID-19 cases for a certain
  country 1 week into the future, and then see what the true value is once that
  time comes.
</p>

<h3>Discussion</h3>
<p>
  We are trying to provide unbiased prediction of COVID-19 spread by using
  various parameters for a better understanding of how each country operates and
  to combat spread of COVID-19 based on the predicted trajectory.
</p>

<h3>References</h3>
<ul>
  <li>https://www.ncbi.nlm.nih.gov/pmc/articles/PMC7293495/</li>
  <li>https://www.cdc.gov/mmwr/volumes/69/wr/mm6938a4.htm?s_cid=mm6938a4_x</li>
  <li>https://www.cdc.gov/mmwr/volumes/69/wr/mm6939e1.htm?s_cid=mm6939e1_x</li>
</ul>

<!-------------------------------------------------------------->
<h2>Touchpoint 2: Midterm Report</h2>
<p>The goal for this touchpoint was to clean and pre-process our data, 
  as well as perform unsupervised learning algorithms.</p>

<h2>Data Cleaning and Pre-processing</h2>
<p>Our country dataset had many features, some of which were extraneous.
  In order to focus on relevant features, we removed the following columns:</p>
<ul>
  <li>Mobile-cellular subscriptions</li>
  <li>Individuals using the Internet</li>
  <li>Balance of payments, current account (millions US)</li>
  <li>Threatened species</li>
  <li>Forested Area</li>
  <li>CO2 emissions</li>
  <li>Seats held by women in national parliaments %</li>
  <li>Refugees and others of concern to UNHCR (in thousands)</li>
  <li>International migrant stock</li>
  <li>Labour force participation (female/male pop. %)</li>
  <li>Net Official Development Assist. received (% of GNI)</li>
  <li>Infant mortality rate</li>
  <li>International migrant stock</li>
  <li>Fertility rate</li>
  <li>Sex ratio</li>
</ul>
<p>Next, we had to deal with misformatted and missing data.</p>

<h3>Misformatted Data</h3>
<p>There were a few types of misformatted data in our initial country dataset.
  Each country had a region feature (ex: CentralAmerica or NorthernAfrica).
  To represent these features numerically instead of as a string, we one-hot encoded each country's region. 
  We split each region name into an individual column, putting a 1 if the country was
  from that region (0 if not). The next type of misformatted data was columns with multiple data 
  values separated by a "/". For example, "Pop. using improved drinking water (urban, rural %)" with a value 
  like "45.1/27". We separated this type of data into two columns, delimiting at the "/".</p>

<h3>Missing Data</h3>
<p>Throughout the dataset, there were many types of missing data. Examples include "...", "-99", "". 
  There also were cells with "~0", "-~0.0", and "-~0". We replaced all the approximately 0 values with 0. 
  Then, we filled in all the missing data values by using the K-nearest neighbors algorithm. For our k-value, 
  we decided on using the square root of the number of datapoints we had. At the end, we had a clean dataset 
  with purely numerical values.</p>

<h3>Final Touches</h3>
<p>Now that we had a clean country features dataset, we now had to merge it with a dataset containing Covid-19 data for countries. 
Our Covid-19 dataset contained the number of cases in a country on every day starting from the beginning of the year. 
Because countries had different dates of first reported infection, we reduced the data down into number of Covid-19 cases 
5 days, 25 days, and 50 days after first infection. Then, we added these 3 columns as features to our cleaned country dataset.</p>


<h2>Unsupervised Learning</h2>
<p>Our goal for unsupervised learning was to cluster our countries, both with and without the Covid-19 features added.</p>
<h3>DBSCAN</h3>
<p>We performed the DBSCAN algorithm because we suspected there were strong outliers among the countries, for example the USA and China.</p>
<img src="img/dbscan_clusters_with_outliers.png" alt="dbscan_clusters_with_outliers" style="width: 40%" />
<img src="img/dbscan_clusters_without_outliers.png" alt="dbscan_clusters_without_outliers" style="width: 40%" />

<p>As seen in the images, most of the countries are similar in terms of population and GDP, however there are a few outliers 
  like the USA and China that are far removed from the majority of the others. These outliers represent countries with a large GDP and population. The yellow cluster includes Ghana, Mozambique, Nepal, and Yemen. 
  The green cluster includes Hong Kong, Denmark, Ireland, Israel, and Singapore. The majority of other countries are in the purple cluster.</p>

<h3>K-Means Clustering</h3>
<p>We performed the kmeans algorithm on the dataset without the number of covid cases and with the number of covid cases after 5 days, 25 days, and 50 days. The first image is the clustering without covid cases and the second picture is with covid cases.</p>
<img src="img/kmeans.png" alt="kmeans" style="width: 40%" />
<img src="img/kmeans_covid.png" alt="kmeans_covid" style="width: 40%" />

<p>We chose k-means clustering because it's a common clustering algorithm that we learned in class. We used the elbow method to determine the number of clusters, which is 9. For the clustering without covid cases,
  countries seems to be grouped in terms of either common region and/or gross domestic product. For cluster 0, countries such as Japan, South Korea, Singapore, New Zealand, Netherlands, Hong Kong, Canada, Australia, United States, etc.
  This seems to be clustering "First World" countries with higher values in GDP and trading rates. For cluster 1, countries such as Saint Lucia, Bahamas, Dominican Republican, Turks and Caicos Islands, United States Virgin Islands, etc.
  This cluster seems to be grouping island countries located in the Carribean Sea. The rest of the clusters are grouped in respective to their GDP or to the regions that are closest to each other.
  As for clustering with covid cases, there were 2 clusters that did not have any changes.
  One of the cluster consists of countries located in the Carribean Sea and the other cluster consists of European countries located near the Mediterranean Sea.
  For the rest of the clusters, there is a 4-12 differences between the results from kmeans without covid versus with covid. Countries seems to be clustered geographically closer to countries near them. For example, Afghanistan, Bangladesh, Cambodia, and Bhutan were in the 
  same cluster without covid cases, but were then put into clusters to countries that were closer to them with covid cases.
  Argentina, Colombia, and Bolivia were in the same cluster as a handful of Southeast Asian countries without covid, but were grouped into clusters with South American countries with covid.
</p>

<h3>GMM</h3>
<!--TODO-->
<h3>Histograms</h3>
<!--TODO-->